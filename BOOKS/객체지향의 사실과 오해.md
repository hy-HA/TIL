객체지향의 사실과 오해
===
목차
---
[서문]

[1. 협력하는 객체들의 공동체]

[2. 이상한 나라의 객체]

[3. 타입과 추상화]

[4. 역할, 책임, 협력]

[5. 책임과 메시지]

[6. 객체 지도]

[7. 함께 모으기]

[부록. 추상화 기법]


# 서문
> 느낀점
- 스프링, JPA, 알고리즘 등 기술적인 지식들을 배우느라 정신없는 와중에 내가 개발을 배우고 싶었던 이유를 다시 생각나게 해주는 책이었다. 
- 내가 막연하게 혼자 고민하고 생각하던 부분들을 깊게 고민했던 선배들이 많이 있다는 것. 
- 그리고 나름의 해답을 만들어서 적극적으로 다른 사람들과 공유하는 문화. 
- 그것만으로도 개발자로서 할 수 있을게 많을 것 같다는 확신이 들면서 힘이 생긴다.
---
- 지금보다 더 성장하려면, 더 나은 방식으로 일하려면 
    - 무엇을 바꿔야 하는지 고민하고 실행하고 회고하고 다시 시도하고. 
    - 처음 사업부에서 일하면서 당연하게 생각했던 일하는 방식. 
    - 그게 개발자로 일하면 더 가능할 것같다고 느껴졌다.
- 내 책임과 역할을 위해 뭘 더 해야하는지 고민하는 것은 즐거운 일이다
- 내가 생각한 책임과 역할과 회사가 생각한 책임과 역할이 다를 때 나는 스트레스를 받는다. 
    - 물론 그 차이에 대해 설명하고 피드백하는 과정이 있으면 문제없다.
> 새롭게 배운 개념
- 객체지향이란 무엇인지 나만의 관점을 찾아야 한다는 것. 
- 기술적으로 접근하지말고 좀더 개념적으로 접근해보자.
> 기억하고 싶은 책 내용
- 객체지향이란 무엇인지에 대해 정답은 없지만 자신만의 견해를 가지고 있는것이 중요
    - **상속**이 무엇인지는 알지만 **일반화**가 무엇인지 아는지?
    - **클래스나 상속**을 중심으로 객체지향을 바라보고 있지는 않은지?
- 객체지향을 향한 걸음
    1. **클래스가 아니라 객체**를 바라보는 것
    2. 객체를 독립적인 존재가 아니라 **기능을 구현하기 위해 협력하는 공동체**의 존재로 보기
    3. 협력에 참여하는 객체들에게 얼마나 적절한 **역할과 책임**을 부여할지
    4. 위 개념들을 프로그래밍 언어라는 틀에 담아내는 기술
- 이 책의 구성

    2. 이상한 나라의 객체
        - 객체란 무엇인가
        - 객체는 상태와 행동, 식별자를 가진 존재
    3. 타입과 추상화
        - 소프트웨어 개발에서 가장 중요한 개념
        - 추상화는 단순화를 의미
        - 동적인 객체들을 단순화시켜 정적인 타입으로 갈무리하는 것
        - **타입의 개념**을 이해하면, 객체 구현을 위해 클래스를 사용하는 이유를 이해 가능
    4. 역할, 책임, 협력
        - 객체들은 협력에 참여하기 위해 역할을 맡고 적절한 책임을 수행
        - 클래스와 상속 <<<< 역할, 책임, 협력!!
    5. 책임과 메시지
        - 훌륭한 메시지가 훌륭한 객체 지향 설계의 기반
        - 객체의 자율성과 설계의 유연성은 얼마나 훌륭한 메시지를 선택하느냐에 달려있음
        - 이 책에서 가장 중요한 챕터!!
    6. 객체 지도
        - 객체지향은 구조와 기능을 어떻게 조화시키는지?
        - 구조는 기능에 비해 변화에 안정적
        - 객체지향 패러다임은 객체들의 구조안에 기능을 녹여 변화에 안정적인 소프트웨어를 개발하는 것
        - 도메인 모델과 객체지향 패러다임 사이의 관계
    7. 함께 모으기 
        - 1장~6장의 내용을 코드로 정리

# 협력하는 객체들의 공동체
> 느낀점

- 너무 실세계와 밀접한 용어로 설명을 하다보니 살짝 괴리감이 느껴진다
- 객체와 클래스의 차이는?
- 협력적인 객체라는 것은?
- 객체가 자기자신을 책임진다는 것은?
- 객체가 행동을 수행하는 방법(혹은 협력에 참여하는 방법)을 스스로 결정한다는 것은?
- 객체의 개방성과 자율성이 명확하게 인지가 되지 않는다
    - 단어가 추상적이고 비슷한 개념이 미묘하게 다른 단어로 사용되어 어떤 개념인지 잘 안잡힌다
> 새롭게 배운 개념
- 객체지향이란 **시스템**을 객체로 분할하여 바라본다는 것
- 각 객체는 좋은 협력을 위해 **좋은 품질의 객체**여야 한다
- **유지보수가 쉽고 재사용이 용이**한 것이 품질의 지표
    - 객체는 충분히 개방적이고 자율적이어야 
> 기억하고 싶은 책 내용

##  **클래스 vs 객체**
- 코드를 담는 클래스의 관점에서
    - 메시지를 주고받는 객체의 관점으로 사고의 전환이 필요
- 어떤 클래스가 필요하냐가 아니라
    - 어떤 객체들이 어떤 메시지를 주고받는가
- 클래스는 객체들의 협력관계를 코드로 옮기는 도구에 불과
- 클래스의 구조와 메서드가 아니라
    - 객체의 역할, 책임, 협력에 집중하라
- 객체지향은 객체를 지향하는 것이지 
    - 클래스를 지향하는 것이 아니다
- 객체지향의 중심은 클래스나 상속이 아니다!


## **객체 지향이란 특정 역할을 지닌 자율적인 객체들의 협력** 

**시스템**

- 상호작용하는 자율적인 객체들의 공동체
- 객체를 이용해 시스템을 분할

**역할**
- 역할의 특징
    1. 여러 객체가 동일한 역할을 수행할 수 
    2. 역할은 대체 가능하다
    3. 한 객체가 여러 역할을 수행할 수 
- 역할의 중요성
    - 역할은 유지보수가 쉽고 재사용한 협력관계를 구축하기위해 필요한 요소

**자율적인 객체**
- 자율적인 객체의 조건
    1. 행동을 위해 필요한 상태를 지님
    2. 스스로 자기 자신을 책임지는 객체
        - 각 객체들은 행동을 수행하는 방법을 스스로 결정
        - 메시지를 수신한 객체는 메시지를 처리하는 메서드를 런타임 시점에 결정(이게 왜 중요하지?)
- 자율적인 객체의 장점
    - 자율적인 객체로 구성된 공동체는 유지보수가 쉽고 재사용이 용이

**협력**
- 협력의 품질은 객체의 품질
    - 각 객체는 협력 내에서 정해진 역할을 수행
    - 객체는 충분히 개방적인 동시에
        - 다른 객체와 조화롭게 협력할 수 있어야
    - 충분히 자율적이어야
        - 협력에 참여하는 방법을 스스로 결정
- 협력 수단
    - 메시지

## **시너지를 생각하라. 전체는 부분의 합보다 크다**

- 객체지향의 다양한 측면들
    1. 상태와 행위를 캡슐화하는 객체의 자율성
    2. 메시지를 주고받으며 공동의 목표를 달성하기 위해 협력
    3. 연결완전성



---
### 커피공화국의 아침 : 역할, 책임, 협력
- 역할과 책임
    - 손님 : 커피 주문
    - 캐시어 : 주문 받음
    - 바리스타 : 커피 제조
    - 역할은 책임을 내포한다.
        - 범죄자를 검거할 책임을 거부하는 사람에게 경찰관의 역할을 부여하지 않는다.
        - 프로그래머라는 역할을 맡을 수 있는 이유는 훌륭한 프로그램을 개발할 책임을 기꺼이 받아들이기 때문이다.
- 협력
    - **커피 주문**이라는 협력에 참여한 사람들은 자신들의 역할과 책임을 다하고 있다
    - 요청과 응답으로 구성됨
    - 협력의 성공은 특정한 역할을 맡은 각 개인이 얼마나 요청을 성실히 이행하는 가에 달려있다
        - 동의하지 않는다. 역할은 상황에 따라 유동적으로 변한다. 
        - 맡은바 수행을 성실히 하는가의 문제보다는 얼마나 기민하게 반응하고 대처하는지 대응능력이 더 중요
---


# 2. 이상한 나라의 객체
> 느낀점
> 새롭게 배운 개념
> 기억하고 싶은 책 내용

**객체지향 패러다임은 지식을 추상화하고 추상화한 지식을 객체 안에 캡슐화함으로써 실세계 문제에 내재된 복잡성을 관리하려고 한다. 객체를 발견하고 창조하는 것은 지식과 행동을 구조화하는 문제다.**


## **객체의 특징(feat.앨리스)**
1. 앨리스는 **상태**를 가지며 상태는 변경가능하다
2. 앨리스의 상태를 변경시키는 것은 앨리스의 **행동**이다
    - 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다
    - 행동의 순서가 결과에 영향을 미친다
3. 앨리스는 어떤 상태에 있더라도 유일하게 **식별 가능**하다

---
### **상태와 프로퍼티**
**상태의 정의**
- 상태는 특정 시점에 객체가 가지고 있는 정보의 집합. 
- 객체의 구조적 특징을 표현한다
    1. 객체의 상태는 정적 프로퍼티와 동적 프로퍼티 값으로 구성된다. 
    2. 객체의 프로퍼티는 단순한 값과 다른 객체를 참조하는 링크로 구분할 수 있다. 

**상태 개념의 탄생**
- 일반적으로 과거에 발생한 행동의 이력을 통해 현재 발생한 행동의 결과를 판단하는 방법은 복잡하고 번거롭다. 
- 따라서 인간은 **행동의 과정과 결과를 단순하게 기술하기 위해 상태라는 개념**을 고안했다.
    - ex. 비행기 탑승 가능여부는 항공권의 발권상태를 보고 예측할 수 있다
    - ex. 자판기는 현재까지 투입된 금액의 상태를 기억한다. 
- 상태를 이용하면 과거의 모든 행동 이력을 설명하지 않고도 행동의 결과를 쉽게 예측하고 설명할 수 있다

**프로퍼티와 프로퍼티 값**
- 프로퍼티(객체의 상태)는 단순한 값과 객체의 조합으로 표현할 수 있다
    1. **속성(단순한 값)**
        - 숫자, 문자열, 양, 속도, 시간, 날짜, 참/거짓과 같은 단순한 값들은 객체가 아니다. 
        - ex. 앨리스의 **키와 위치**
        - 단순한 값들은 그 자체로 독립적인 의미를 가지기보다는 다른 **객체의 상태를 표현**하는데 사용된다.
    2. **객체**
        - 때로는 단순한 값이 아니라 객체를 사용해 다른 객체의 상태를 표현해야 할 때가 있다. 
        - ex. 앨리스가 현재 **음료**를 들고 있는가?
    - **프로퍼티**는 변경되지 않고 고정되기 때문에 '정적'이다
    - **프로퍼티의 값**은 시간이 흐름에 따라 변경되기 때문에 '동적'이다

**링크**
- **링크**는 객체와 객체사이의 의미있는 연결을 뜻한다
    - 객체와 객체 사이에 링크가 존재해야만 요청을 보내고 받을 수 있다
    - 즉, 객체의 링크를 통해서만 메시지를 주고받을 수 있다
---
### **행동**
**행동의 정의**
- 행동이란 외부의 요청 또는 수신된 메시지에 응답하기 위해 동작하고 반응하는 활동
- 행동의 결과로 객체는 자신의 상태를 변경하거나, 다른 객체에게 메시지를 전달할 수 있다
- 객체는 행동을 통해 다른 객체와 협력에 참여하므로 행동은 외부에 가시적이어야 한다


**상태와 행동**
- 객체지향의 기본 사상은 **상태와 상태를 조작하기 위한 행동을 하나의 단위로** 묶는 것
- 객체의 행동은 상태를 변경시킨다
    - 객체가 취하는 행동은 객체 자신의 상태를 변경시킨다
    - ex. 앨리스가 케익을 먹으면 앨리스의 키를 작게 변화시키는 부수효과를 초래한다
    - ex. 앨리스가 문을 통과하면 앨리스의 위치가 변화되는 부수효과를 초래한다
- 객체의 행동은 상태에 영향을 받는다
    - 객체의 행동의 결과는 객체의 상태에 의존적이다
    - ex. 음료를 마신 후의 앨리스의 키는 음료를 마시기 전의 앨리스의 키보다 작아져야 함


**객체의 행동으로 발생되는 결과**
- 객체는 협력하는 과정에서 자기 자신의 상태 + 다른 객체의 상태도 변경할 수 있다
    - ex. 앨리스가 음료를 마시면 앨리스 키가 작아지는 동시에 음료의 양도 줄어야 한다
1. 객체 자신의 **상태 변경**
2. 행동 내에서 협력하는 **다른 객체에 대한 메시지 전송**


**상태 캡슐화**
- 상태를 캡슐화하는 것은 객체의 자율성을 높이고 협력을 단순하고 유연하게 만든다
    1. 메시지 송신자는 메시지 수신자의 상태 변경에 대해 알지 못한다
        - 앨리스 객체 ---(drunken(quatity))---> 음료 객체
        - 음료에게 메시지를 전송하는 앨리스 객체는 음료의 상태를 알지 못한다
    2. 객체는 상태를 캡슐 안에 감춰 외부로 노출하지 않는다
        - 객체가 외부에 노출하는 것은 행동 뿐이며, 외부에서 객체에 접근할 수 있는 유일한 방법도 행동이다
    3. 상태를 캡슐화하는 것은 객체의 자율성을 높인다
    4. 자율적인 객체는 스스로 판단하고 스스로 결정하기 때문에 객체의 지능도 높아진다
    5. 협력에 참여하는 객체들의 지능이 높아질수록 협력은 유연하고 간결해진다
---
### **식별자**

**식별자 정의**
- 객체를 다른 객체와 구분하는데 사용하는 객체의 프로퍼티
- 값은 식별자를 가지지 않기 때문에 상태를 이용한 동등성 검사를 통해 두 인스턴스를 비교
- 객체는 상태가 변경될 수 있기 때문에 식별자를 이용한 동일성 검사를 통해 두 인스턴스를 비교

**값과 객체의 차이점**
- 두 개념 모두 클래스를 이용해 구현되기 때문에 대부분 이 둘의 차이를 헷갈려한다
- 객체지향 언어의 관점에서 값과 객체 모두 클래스로부터 생성된 객체이기 때문에 문맥에 따라 그 의미가 혼란스러울 수 있다.
    - 숫자는 Integer클래스로부터 생성된 객체이고 (값 객체)
    - 사람은 Person클래스로부터 생성된 객체다 (엔티티, 참조객체)
---
## **책임주도 설계**
- 객체지향에 갓 입문한 사람들이 쉽게 빠지는 함정은 상태를 중심으로 객체를 바라보는 것이다
- 초보자들은 앨리스 객체에 필요한 상태를 찾고 **키와 위치**를 앨리스에 추가한다
    - 그리고 키와 위치를 **변경하거나 조회할 수 있는 행동**이 무엇인지 고민한다
- 상태를 먼저 결정하고 행동을 나중에 결정하는 방법은 설계에 나쁜 영향을 준다

**상태를 결정하고 행동을 나중에 결정하는 설계의 문제점**
1. 캡슐화가 저해됨
    - 상태가 객체 내부로 깔끔하게 캡슐화되지 못하고 공용 인터페이스에 노출되버릴 확률이 높아진다
2. 객체를 협력자가 아닌 고립된 섬으로 만든다
    - 객체가 필요한 이유는 앱 문맥 내에서 다른 객체와 협력하기위해서
    - 상태를 먼저 고려하면 문맥에서 벗어난채 객체를 설계함으로써 협력에 적합하지 못한 객체를 창조하게 된다
3. 객체의 재사용성이 저해
    - 객체의 재사용성은 다양한 협력에 참여하는 능력에서 나온다

[3. 타입과 추상화]
> 느낀점
> 새롭게 배운 개념
> 기억하고 싶은 책 내용

[4. 역할, 책임, 협력]
> 느낀점
> 새롭게 배운 개념
> 기억하고 싶은 책 내용

[5. 책임과 메시지]
> 느낀점
> 새롭게 배운 개념
> 기억하고 싶은 책 내용

[6. 객체 지도]
> 느낀점
> 새롭게 배운 개념
> 기억하고 싶은 책 내용

[7. 함께 모으기]
> 느낀점
> 새롭게 배운 개념
> 기억하고 싶은 책 내용

[부록. 추상화 기법]
> 느낀점
> 새롭게 배운 개념
> 기억하고 싶은 책 내용