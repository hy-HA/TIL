# ENUM

# ì—´ê±°(enum) íƒ€ì…
- ì œí•œëœ ê°’ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” íƒ€ì…
- í´ë˜ìŠ¤ì²˜ëŸ¼ ë³´ì´ê²Œ í•˜ëŠ” `ìƒìˆ˜`
    - ìƒìˆ˜ : ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ê²ƒ
- ì„œë¡œ ê´€ë ¨ìˆëŠ” ìƒìˆ˜ë“¤ë¼ë¦¬ ëª¨ì•„ `ìƒìˆ˜ë“¤ì„ ëŒ€í‘œí•˜ëŠ” íƒ€ì…`ì„ ì •ì˜
- exceptionê´€ë¦¬ ìœ„í•¨
    - ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³¼ëª©ëª…ì´ insertë˜ì§€ ì•Šë„ë¡(null)
- [ì°¸ê³ ](https://www.opentutorials.org/module/1226/8025)


# enumí´ë˜ìŠ¤ 
- KOR, MATH, ENG : ìƒìˆ˜(ìˆ˜ì‹ì—ì„œ ë³€í•˜ì§€ ì•ŠëŠ” ê°’)
- ê° ìƒìˆ˜ë“¤ì€ `í´ë˜ìŠ¤ëª….name`ìœ¼ë¡œ ì–»ì–´ì˜¬ ìˆ˜ ìˆìŒ
### ì—´ê±°íƒ€ì… ì •ì˜ 1
```java
SubjectType.java>>
public enum SubjectType {
    KOR,ENG,MATH
}
```

### ì°¸ê³ . ì—´ê±°íƒ€ì…ì„ ì‚¬ìš©í•œ í´ë˜ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” DTOê°ì²´
```java
public class SubjectResponse {
    private Long id;
    private String subjectType;

    //ìƒì„±ì
    public SubjectResponse(Subject subject){
        this.id = subject.getId();
        this.subjectType = subject.getSubjectType();
    }
}
```
---
### ì—´ê±°íƒ€ì… ì •ì˜ 2_ì¶œë ¥ë¬¸ì ì •ì˜
- ì—´ê±°í˜• ìƒìˆ˜ë¥¼ ë‹¤ë¥¸ ê°’ê³¼ ì—°ê²°í•˜ê¸°
- ì´ë•ŒëŠ” ì„¸ë¯¸ì½œë¡  ë¶™ì—¬ì•¼ í•¨

```java
SubjectType.java>>

@RequiredArgsConstructor //ìƒì„±ì ëŒ€ì‹  ì‚¬ìš©ê°€ëŠ¥
public enum SubjectType {
    
    KOR("êµ­ì–´", 1),  //SubjectType KOR = new SubjectType("êµ­ì–´", 1);ê³¼ ê°™ì€ ì˜ë¯¸
    MATH("ìˆ˜í•™", 2), 
    ENG("ì˜ì–´", 3);
    
    private String description;
    private int value;



    //enumì—ì„œ ìƒì„±ì ê°™ì€ ì—­í• . 
    //ì´ê±¸ ì‘ì„± í•´ì•¼ ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ì•ˆë‚¨ 
    //ìœ„ì—ì„œ ìƒì„±ìë¥¼ í†µí•´ ê°ì²´ ìƒì„±í•˜ê³  ìˆê¸° ë•Œë¬¸. 
    SubjectType(String description, int value) {
        this.value = value;
        this.description = description;
    }
}
```
### ì—´ê±°íƒ€ì… ì •ì˜ 3_@RequiredArgsConstructor ëŒ€ì‹  ìƒì„±ì ì‚¬ìš©í•˜ëŠ” ê²½ìš°
- ìƒìˆ˜ë¼ë¦¬ ì—°ì‚°ì´ í•„ìš”í•  ë•Œ
```java
public enum SubjectType {

    KOR("êµ­ì–´", 1,"êµ­ì–´1"), 
    MATH("ìˆ˜í•™", 2, "ìˆ˜í•™2"),
    ENG("ì˜ì–´", 3, "ì˜ì–´3"),
    UNREGISTER("ë¯¸ë“±ë¡", 0);

    private final String description;
    private final int value;
    private final String code;

    SubjectType(String description, int value) {
        this.value = value;
        this.description = description;
        this.code = this.name() + value;
    }
}
```

# 2. ì™¸ë¶€ í´ë˜ìŠ¤ì—ì„œ enumíƒ€ì…ì„ í•„ë“œ/ë©”ì†Œë“œë¡œ ì‚¬ìš©
## í•„ë“œì— enumíƒ€ì…ì„ ì„ ì–¸
### ì—´ê±°íƒ€ì… ì‚¬ìš© ğŸ§©
```java
    //ì—´ê±°íƒ€ì… ë³€ìˆ˜ ì„ ì–¸ ğŸ§©
    SubjectType subjetType;  
    //ì—´ê±°ê°’ ëŒ€ì… ğŸ§©
    subjectType = SubjectType.KOR; 
```
```java
Subject.java>>

    @Enumerated(value = EnumType.STRING)
    @Column(name = "subject_type", unique = true)
    private SubjectType subjectType;
    //ì—´ê±°ê°’ì„ Stringìœ¼ë¡œ ë°˜í™˜í•˜ëŠ” ë©”ì†Œë“œ
    public String getSubjectType(){
        return subjectType.name();
    }
    //Subject ìƒì„±ì
    @Builder
    public Subject(String subject){
        initSubjectType(subject);
        this.isDeleted = false;
    }
    private void initSubjectType(String subject) {
        try {
            ğŸ§©
            this.subjectType = SubjectType.valueOf(subject);
        } catch (IllegalArgumentException e) {
            
            ğŸ§©
            throw TypeException.of("ê³¼ëª©", subject);
        }
    }
```


### @Enumerated
- @Enumerated
    - í…Œì´ë¸”ì— ì €ì¥ë˜ëŠ” íƒ€ì…ì„ ì§€ì •í•´ì£¼ëŠ” ì–´ë…¸í…Œì´ì…˜
    - `@Enumerated(value = EnumType.STRING)`
- ORDINAL, STRING
    - EnumType.ORDINAL : enum ìˆœì„œ ê°’ì„ DBì— ì €ì¥
    - EnumType.STRING : enum ì´ë¦„ì„ DBì— ì €ì¥
### @Column
- @Column
    - dbì»¬ëŸ¼ê³¼ ë¹„êµì‹œ í•„ìš”í•œ ë¶€ë¶„ë“¤ì„ ì •í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜
    - name,unique ë“±ì˜ ì†ì„±ì´ ìˆë‹¤
    - `@Column(name = "subject_type", unique = true)`

### name()ë©”ì†Œë“œ 
- enumíƒ€ì…ì„ Stringìœ¼ë¡œ ë°˜í™˜
- ì™¸ë¶€ì—ì„œ enumíƒ€ì…ì„ ì‚¬ìš©í•˜ë„ë¡ ë©”ì†Œë“œ ì„ ì–¸
    - ë””ë¯¸í„° ë²•ì¹™ : ê°ì²´ íƒ€ì…ì„ Stringìœ¼ë¡œ ë°˜í™˜í•˜ì—¬ ì‚¬ìš©ì‹œ .ì„ ìµœëŒ€í•œ ì ê²Œ ì°ëŠ”ë‹¤.
- ì‚¬ìš©ë²• 
    - `enumí´ë˜ìŠ¤ë³€ìˆ˜.name()`
```java
//í•„ë“œ
@Enumerated(value = EnumType.STRING)
@Column(name = "subject_type", unique = true)
private SubjectType subjectType;
//Stringìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë©”ì†Œë“œ
public String getSubjectType(){
    return subjectType.name();
}
```
### valueOf()ë©”ì†Œë“œ : ìƒì„±ìë¥¼ ë§Œë“¤ë•Œ enumíƒ€ì…ì„ Stringìœ¼ë¡œ ë°˜í™˜
- ì‚¬ìš©ë²•
    - `enumí´ë˜ìŠ¤.valueOf(Stirngíƒ€ì… ë³€ìˆ˜)`
```java
@Builder
public Subject(String subjectType){
    //valueOfë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì£¼ì–´ì•¼ í•¨. ìì„¸í•œê±´ ë°‘ì—.
    this.subjectType= SubjectType.valueOf(subjectType);
}
```

# 3. ì‘ë‹µ ê°ì²´ì—ì„œ ì‚¬ìš©í•˜ê¸°

```java
SubjectResponse.java>>
public SubjectResponse(Subject subject) {
        this.id = subject.getId();
        this.subject = subject.getSubjectType();
    }
```

# 4. Enum ë©”ì†Œë“œ
## enumê°ì²´ ìƒì„±
### Enumí´ë˜ìŠ¤ëª….ìƒìˆ˜ëª…
- enum í´ë˜ìŠ¤ì—ì„œ ìƒìˆ˜ëª…ê³¼ ë™ì¼í•œ enumê°ì²´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë©”ì†Œë“œ
    - ```SubjectType.ENG```
## enumê°ì²´ ì‚¬ìš©
### 1. enumê°ì²´ ë³€ìˆ˜.name
- í•´ë‹¹ enumê°ì²´ë¥¼ stringíƒ€ì…ìœ¼ë¡œ ë³€í™˜
    - `public String getSubjectType(){
        return sb.name();}`
### 2. valueOf(String arg) 
- ì „ë‹¬ëœ ë¬¸ìì—´ê³¼ ì¼ì¹˜í•˜ëŠ” ìƒìˆ˜ë¥¼ ë°˜í™˜
- ê°’ì´ ì—†ìœ¼ë©´ ì˜ˆì™¸(IllegalArgumentException) ë°œìƒ
    - ëŒ€ì†Œë¬¸ì êµ¬ë¶„í•¨
    - ì •ì˜ëœ íƒ€ì…ë§Œ ì‚¬ìš©ê°€ëŠ¥
- SubjectType.valueOf("ENG")
> ì°¸ê³ 
> valueOfë„ ì •ì  íŒ©í† ë¦¬ ë©”ì†Œë“œì˜ ì¼ì¢…
> ë¯¸ë¦¬ ìƒì„±ëœ ê°ì²´ë¥¼ "ì¡°íšŒ"í•˜ëŠ” ë©”ì„œë“œë¼ íŒ©í† ë¦¬ì˜ ì—­í• ì„ í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ì™¸ë¶€ì—ì„œ ì›í•˜ëŠ” ê°ì²´ë¥¼ ë°˜í™˜í•´ì£¼ë¯€ë¡œ ê²°ê³¼ì ìœ¼ë¡œëŠ” ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œë¼ê³  ê°„ì£¼í•´ë„ ì¢‹ë‹¤. 
### valueOfë©”ì†Œë“œ ì˜ˆì™¸ì²˜ë¦¬
```java
try {
    this.subjectType = SubjectType.valueOf(subject);
} catch (IllegalArgumentException e) {
    throw TypeException.of("ê³¼ëª©", subject);
}
```
- ì»¤ìŠ¤í…€ì˜ˆì™¸ ğŸŸ¨
```java
public class TypeException extends RuntimeException {
    private TypeException(String message) {
        super(message);
    }
    public static TypeException of(String typeName, String name) {
        return new TypeException(String.format("[%s] í•´ë‹¹ ì´ë¦„ì„ ê°€ì§„ [%s]ì´/ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.", typeName, name));
    }
}
```
### 3. values() 
- enumì˜ ìš”ì†Œë“¤ì„ ìˆœì„œëŒ€ë¡œ enumíƒ€ì…ì˜ ë°°ì—´ë¡œ ë¦¬í„´
- ```SubjectType.values()```
### 4. ordinal()
- ì›ì†Œì— ì—´ê±°ëœ ìˆœì„œë¥¼ ì •ìˆ˜ê°’ìœ¼ë¡œ ë¦¬í„´

    



