# í•™ìƒ ìƒì„±í•˜ê¸°
- [ì–´ë…¸í…Œì´ì…˜ ì°¸ì¡°](https://hackmd.io/_jk5q_29RduLoBBsuHH48A)
# ë„ë©”ì¸
### 1. í´ë˜ìŠ¤ ì–´ë…¸í…Œì´ì…˜
- @Getter | @NoArgsConstructor | @Entity | @Table(name="student")
### 2. Primary Key
- entityëŠ” primaryí‚¤ê°€ í•„ìˆ˜ë¡œ í•„ìš”
### 3. ìƒì„±ì ì„ ì–¸
- requestê°ì²´ì—ì„œ Stringí•„ë“œë¥¼ @RequestBodyë¡œ ë°›ì•„ì„œ studentê°ì²´ ìƒì„±í›„ ë°˜í™˜
    - í´ë˜ìŠ¤ ë‹¨ê³„ ì°¸ê³ 
```java
@Getter
@NoArgsConstructor
@Entity
@Table(name="student")
public class Student {
    
    //entityëŠ” primaryí‚¤ê°€ í•„ìˆ˜ë¡œ í•„ìš”
    @Id @GeneratedValue
    private Long id;

    private String studentName;

    //requestê°ì²´ì—ì„œ Stringí•„ë“œë¥¼ ë°›ì•„ì„œ studentê°ì²´ ìƒì„±í›„ ë°˜í™˜
    @Builder
    public Student(String name){
        this.studentName = name;
    }
}
```
# DTO
## Request ê°ì²´
### í´ë˜ìŠ¤ ì–´ë…¸í…Œì´ì…˜
- @Data | @AllArgsConstructor | @NoArgsConstructor
```java
@Data
@AllArgsConstructor
@NoArgsConstructor
public class StudentForm {

    @NotNull
    private String studentName;
}
```
## Response ê°ì²´
### í´ë˜ìŠ¤ ì–´ë…¸í…Œì´ì…˜ 
- ìƒë™
### Primary Key í•„ë“œ
- Entityê°ì²´ë¥¼ ë°›ì•„ ë°˜í™˜í•˜ë¯€ë¡œ request ê°ì²´ì™€ ë‹¤ë¥´ê²Œ idí•„ë“œê°€ í•„ìš”
### ë°˜í™˜ê°ì²´ ìƒì„±ì
- Entityê°ì²´ë¥¼ ë°›ì•„ì„œ Restpnse ê°ì²´ë¡œ ë³€í™˜


```java
@Data
@AllArgsConstructor
@NoArgsConstructor
public class StudentResponse {

    private Long id;
    private String studentName;

    public StudentResponse(Student request) {
        this.id = request.getId();
        this.studentName = request.getStudentName();
    }
}
```
# ë¦¬í¬ì§€í† ë¦¬
- JAPë¦¬í¬ì§€í† ë¦¬ëŠ” ì œë„¤ë¦­í´ë˜ìŠ¤
    - íŒŒë¼ë¯¸í„°ë¡œ ê°ì²´ íƒ€ì… ì§€ì •í•´ì¤˜ì•¼ ì˜¤ë¥˜ê°€ ë‚˜ì§€ ì•ŠëŠ”ë‹¤
```java
public interface StudentRepository extends JpaRepository<Student,Long> {}
```

# ì„œë¹„ìŠ¤
- í•™ìƒì´ë¦„ì„ ì „ë‹¬í•˜ëŠ” Requestê°ì²´ë¥¼ ì „ë‹¬ë°›ì•„ì„œ(StudentForm)
- í•™ìƒê°ì²´ë¡œ ë§Œë“¤ì–´ì£¼ê³ (Student)
    - builder ì‚¬ìš©
    - ì´ë•Œ idëŠ” ìë™ ìƒì„±ë¨(@Id, @GeneratedValue)
- ë¦¬í¬ì§€í† ë¦¬ì— ì €ì¥í•˜ê³ (ì´ë•Œ ì €ì¥íƒ€ì…ì€ Student)
    - ë¦¬í¬ì§€í† ë¦¬ëŠ” ì œë„¤ë¦­ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ê³  ìˆìœ¼ë¯€ë¡œ 
    - ë¦¬í¬ì§€í† ë¦¬ì—ì„œ ì„ ì–¸í•œ íƒ€ì…ìœ¼ë¡œ ì „ë‹¬í•´ì£¼ì–´ì•¼í•¨
- responseê°ì²´ë¡œ ë³€í™˜í•´ì„œ ì „ë‹¬(StudentResponse)

```java
@Service
@RequiredArgsConstructor
public class StudentService {
    private final StudentRepository studentRepository;

    @Transactional
    public StudentResponse createStudent(StudentForm request) {

        if(request.getStudentName() == null){
            throw new NullPointerException(request.getStudentName());
        }
        //í•™ìƒ ê°ì²´ ìƒì„±í•´ì„œ requestì—ì„œ ë°›ì€ ë‚´ìš© ë³€í™˜í•´ì£¼ê¸°
        Student student = Student.builder()
                .name(request.getStudentName())
                .build();
        //í•™ìƒ ê°ì²´ë¥¼ ë¦¬í¬ì§€í† ë¦¬ì— ì €ì¥(ë¦¬í¬ì§€í† ë¦¬ëŠ” í•™ìƒê°ì²´ë¡œ ë°›ê¸° ë•Œë¬¸)
        studentRepository.save(student);

        //ë¦¬í¬ì§€í† ë¦¬ì— ì €ì¥í•œ í•™ìƒê°ì²´ë¥¼ responseê°ì²´ë¡œ ë‹´ì•„ì„œ ë°˜í™˜
        return new StudentResponse(student);
    }
```

# í´ë˜ìŠ¤ ğŸŸ¨
```java
@RestController
@RequiredArgsConstructor
public class SubjectController {
    
    private final SubjectService subjectService;
    
    @ResponseBody
    @PostMapping("/subject")
    public ResponseEntity<SubjectResponse> createSubject(@RequestBody SubjectForm request){
        SubjectResponse subjectResponse = subjectService.createSubject(request);
        return ResponseEntity.ok(subjectResponse);
    }
}
```
### í´ë˜ìŠ¤ ì–´ë…¸í…Œì´ì…˜
- @RestController | @RequiredArgsConstructor

### ë©”ì†Œë“œ ì–´ë…¸í…Œì´ì…˜
- @ResponseBody | @PostMapping("/subject")
### íŒŒë¼ë¯¸í„° ì–´ë…¸í…Œì´ì…˜
- @RequestBody
### ë°˜í™˜ê°ì²´
#### ResponseEntity
- ResponseEntityë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
    - `ResponseEntity.status(HttpStatus.NO_CONTENT).build()`
    - `ResponseEntity.ok(subjectResponse)`

